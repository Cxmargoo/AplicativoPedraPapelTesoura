<html>
    <body>
        <link rel="stylesheet" href="style.css">
        <div class="container">
            <h1>Pedra, papel ou tesoura!</h1>
            <h2 class="vencedor"></h2>
 
    </div>
        <div class="align">
            <div class="player-options">
                <div><img opt="Pedra" src="img/rock.png" alt=""></div>
                <div><img opt="Papel" src="img/paper.png" alt=""></div>
                <div><img opt="Tesoura" src="img/scisor.png" alt=""></div>
            </div>

            <div class="enemy-options">
                <div><img opt="Pedra" src="img/rock.png" alt=""></div>
                <div><img opt="Papel" src="img/paper.png" alt=""></div>
                <div><img opt="Tesoura" src="img/scisor.png" alt=""></div>
            </div>
    </div>  

        <script>
            var elementos = document.querySelectorAll('.player-options div')
            var playeropt = ""
            var inimigoopt = ""

            function validarvitoria(){
                let vencedor = document.querySelector('.vencedor')
                
                    if(playeropt == "Papel"){
                        if(inimigoopt == "Papel"){
                            //empate
                            vencedor.innerHTML = "O jogo empatou!"
                        }else if(inimigoopt == "Tesoura"){
                            // inimigo ganhpou
                            vencedor.innerHTML = "O Inimigo ganhou!"
                        }else if(inimigoopt == "Pedra"){
                            //Inimigo perdeu
                            vencedor.innerHTML = "O Inimigo perdeu!"
                        }

                }

                    if(playeropt == "Tesoura"){
                        if(inimigoopt == "Papel"){
                            //empate
                            vencedor.innerHTML = "O Player ganhou!"
                        }else if(inimigoopt == "Tesoura"){
                            // inimigo ganhpou
                            vencedor.innerHTML = "O Jogo empatou!"
                        }else if(inimigoopt == "Pedra"){
                            //Inimigo perdeu
                            vencedor.innerHTML = "O Inimigo ganhou!"
                        }

                }

                if(playeropt == "Pedra"){
                    if(inimigoopt == "Papel"){
                        //empate
                        vencedor.innerHTML = "O Inimigo ganhou!"
                    }else if(inimigoopt == "Tesoura"){
                        // inimigo ganhpou
                        vencedor.innerHTML = "O Inimigo perdeu!"
                    }else if(inimigoopt == "Pedra"){
                        //Inimigo perdeu
                        vencedor.innerHTML = "O Jogo empatou!"
                    }

                }


            }

            function resetinimigo(){
                const enemyoptions = document.querySelectorAll('.enemy-options div')
                
                for(var i = 0; i < enemyoptions.length; i++){
               
                    enemyoptions[i].childNodes[0].style.opacity = 0.3; 
                }
              }
            
            function inimigojogar(){
              let rand = Math.floor(Math.random()*3)

              const enemyoptions = document.querySelectorAll('.enemy-options div')
                resetinimigo()
              for(var i = 0; i < enemyoptions.length; i++){
                if(i == rand){
                    enemyoptions[i].childNodes[0].style.opacity = 1; 
                    inimigoopt = enemyoptions[i].childNodes[0].getAttribute('opt');
                }
              }

             validarvitoria()


            }
            function resetopacityplayer(){
                for(var i = 0; i < elementos.length; i++){
                    elementos[i].style.opacity = 0.3
              }
            }
            for(var i = 0; i < elementos.length; i++){
                elementos[i].addEventListener('click', function(t){
                    resetopacityplayer();
                    t.target.style.opacity = 1
                    playeropt = t.target.getAttribute('opt')

                    inimigojogar()
                    
                   
                });
            }
        </script>
    </body>
</html>